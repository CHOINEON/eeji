import styled from '@emotion/styled'
import IconServerUpload from 'assets/img/icons/XAI/upload_b_io.png'
import useModal from 'hooks/useModal'
import { useEffect } from 'react'
import { useTranslation } from 'react-i18next'
import CardButton from './components/button/CardButton'

const UploadPage = () => {
  const { t } = useTranslation()
  const { openModal, closeModal } = useModal()

  const buttonItems = [
    {
      title: 'EEJI',
      description: t('Retrieve the model data generated by the AI Model Generator.'),
      icon: IconServerUpload,
      handleClick: () => handleClick('SavedModelImport'),
      buttonName: t('Select Model'),
    },
  ]

  function handleClick(type: string) {
    openModal({
      modalTitle: t('Model Import'),
      modalType: type,
      modalProps: {
        onClick: () => {
          closeModal()
        },
      },
    })
  }

  useEffect(() => {
    // 컴포넌트가 마운트될 때 첫 번째 버튼의 handleClick 호출
    buttonItems[0].handleClick()
  }, []) // 빈 배열을 전달하여 한 번만 실행되도록 함

  return (
    <>
      <UploadContainer>
        <div style={{ width: '100%', textAlign: 'center', marginTop: 32, flexDirection: 'row' }}>
          <IconContainer>
            {buttonItems.map((item, index) => (
              <CardButton item={item} key={index} />
            ))}
          </IconContainer>
        </div>
        <div
          style={{
            display: 'block',
            textAlign: 'center',
            marginTop: '100px',
          }}
        ></div>
      </UploadContainer>
    </>
  )
}

export default UploadPage

const UploadContainer = styled.div`
  position: absolute;
  width: 100%;
  height: 400px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, 50%);
`

const IconContainer = styled.div`
  display: flex;
  justify-content: center;
`
